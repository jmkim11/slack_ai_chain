# ğŸ“„ SoundMate: ì‚¬ë‚´ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ íš¨ìœ¨í™”ë¥¼ ìœ„í•œ AI ì—ì´ì „íŠ¸ ê°œë°œ
> **Role**: ë°±ì—”ë“œ & AX(AI Experience) ì—”ì§€ë‹ˆì–´ë§ (ê¸°ì—¬ë„ 100%)
> **Stack**: NestJS, TypeScript, SQLite, OpenAI SDK

## 1. í”„ë¡œì íŠ¸ ê°œìš” (Introduction)
ì—”í„°í…Œì¸ë¨¼íŠ¸ ì‚¬ë‚´ ì—…ë¬´(íšŒì˜ì‹¤ ì˜ˆì•½, ê·œì • ë¬¸ì˜)ì˜ ë¹„íš¨ìœ¨ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ê°œë°œëœ **ë§¥ë½ ê¸°ë°˜(Context-Aware) AI ì—ì´ì „íŠ¸**ì…ë‹ˆë‹¤.
ê¸°ì¡´ì˜ ë‹¨ìˆœ ëª…ë ¹ì–´ ê¸°ë°˜ ë´‡(Command-Bot)ì´ ì•„ë‹Œ, **LLMì˜ ì¶”ë¡ (Reasoning) ëŠ¥ë ¥**ì„ í™œìš©í•˜ì—¬ ì‚¬ìš©ìì˜ ëª¨í˜¸í•œ ìš”ì²­ ì˜ë„ë¥¼ íŒŒì•…í•˜ê³  ëŠ¥ë™ì ìœ¼ë¡œ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

---

## 2. ì£¼ìš” ê¸°ìˆ ì  ì˜ì‚¬ê²°ì • (Key Engineering Decisions)

### ğŸ§© 1. LangChain ì œê±° ë° ìì²´ ì¶”ë¡  ì—”ì§„ êµ¬ì¶•
-   **ë¬¸ì œ (Problem)**: LangChainì€ ì¶”ìƒí™” ë ˆë²¨ì´ ë†’ì•„ ë””ë²„ê¹…ì´ ì–´ë µê³ , ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„±ìœ¼ë¡œ ì¸í•´ ì„œë²„ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
-   **í•´ê²° (Action)**: OpenAI SDKë§Œì„ ì‚¬ìš©í•˜ì—¬ ê²½ëŸ‰í™”ëœ **Agent Loop (Think-Plan-Act)**ë¥¼ ì§ì ‘ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. Tool Calling í”„ë¡œí† ì½œì„ ì§ì ‘ ì œì–´í•¨ìœ¼ë¡œì¨ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ì„¸ë°€í•˜ê²Œ(Graceful Handling) ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.
-   **ê²°ê³¼ (Result)**: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„±ì„ ì œê±°í•˜ì—¬ ëª¨ë“ˆì„±ì„ ë†’ì´ê³ , ì¶”ë¡  ê³¼ì •ì˜ íˆ¬ëª…ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.

### ğŸ“š 2. í•˜ì´ë¸Œë¦¬ë“œ ì§€ì‹ ê²€ìƒ‰ ì‹œìŠ¤í…œ (RAG Lite)
-   **ë¬¸ì œ**: LLMì€ ì‚¬ë‚´ ê·œì •(Wifi ë¹„ë°€ë²ˆí˜¸ ë“±)ì„ ì•Œì§€ ëª»í•´ í™˜ê°(Hallucination)ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
-   **í•´ê²°**: ë³µì¡í•œ Vector DB ëŒ€ì‹ , ì†Œê·œëª¨ ì‚¬ë‚´ ë°ì´í„°ì— ì í•©í•œ **Keyword Matching ê¸°ë°˜ì˜ RAG ëª¨ë“ˆ**ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ì§ˆë¬¸ì˜ í•µì‹¬ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•˜ì—¬ ê´€ë ¨ ì •ì±…ì„ ê²€ìƒ‰í•œ í›„ LLMì—ê²Œ ì»¨í…ìŠ¤íŠ¸ë¡œ ì œê³µí•©ë‹ˆë‹¤.
-   **ê²°ê³¼**: ë³„ë„ì˜ ì¸í”„ë¼ êµ¬ì¶• ì—†ì´ë„ ì •í™•í•œ Fact ê¸°ë°˜ ì‘ë‹µì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.

### ğŸ‘¤ 3. ê°œì¸í™” ë° ì‚¬ìš©ì ë§¥ë½ ê¸°ì–µ (Hyper-Personalization)
-   **êµ¬í˜„**: "ëŠ˜ ì“°ë˜ ê³³ìœ¼ë¡œ"ì™€ ê°™ì€ ëª¨í˜¸í•œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´, `Reservation` í…Œì´ë¸”ì—ì„œ ì‚¬ìš©ìë³„ ë¹ˆë„ìˆ˜ ê¸°ë°˜ í†µê³„(`GROUP BY`)ë¥¼ ì‚°ì¶œí•˜ëŠ” ë¡œì§ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.
-   **ì˜ì˜**: ë‹¨ìˆœí•œ CRUDë¥¼ ë„˜ì–´, **ë°ì´í„° ê¸°ë°˜ì˜ ëŠ¥ë™ì  ì œì•ˆ** ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### ğŸ›¡ï¸ 4. ìš´ì˜ ì•ˆì •ì„± í™•ë³´ (Observability & Security)
-   **ë¡œê·¸ ì¶”ì (Reasoning Log)**: AIì˜ ì‚¬ê³  ê³¼ì •(Thought Process)ì„ ë³„ë„ íŒŒì¼ë¡œ ìŠ¤íŠ¸ë¦¬ë° ì €ì¥í•˜ì—¬, "ì™œ ê·¸ëŸ° ë‹µë³€ì„ í–ˆëŠ”ì§€" ì—­ì¶”ì  ê°€ëŠ¥í•˜ê²Œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.
-   **ë³´ì•ˆ ê°€ë“œë ˆì¼**: í”„ë¡¬í”„íŠ¸ ì¸ì ì…˜(Prompt Injection) ê³µê²© ì‹œë„ë¥¼ ì •ê·œì‹ ë° í‚¤ì›Œë“œ í•„í„°ë§ìœ¼ë¡œ ì°¨ë‹¨í•˜ì—¬ ì„œë¹„ìŠ¤ ì•ˆì •ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
---

## 3. System Architecture (ì•„í‚¤í…ì²˜)
```mermaid
graph TD
    User[Slack User] -->|Message| SlackModule
    SlackModule -->|Event| AgentService[ğŸ§  Agent Brain]
    
    subgraph "Reasoning Loop"
        AgentService -->|Think| OpenAI[LLM]
        OpenAI -->|Tool Call| ToolRegistry
    end
    
    subgraph "Tools Infrastructure"
        ToolRegistry -->|SQL| RoomService
        ToolRegistry -->|SQL| ReservationService
        ToolRegistry -->|Search| KnowledgeService
    end
    
    RoomService --> DB[(SQLite)]
    ReservationService --> DB
```

## 4. Problem Solving (ë¬¸ì œ í•´ê²° ì‚¬ë¡€)
1.  **ë™ì‹œì„± ì œì–´ (Concurrency)**:
    -   **ë¬¸ì œ**: ë™ì¼ ì‹œê°„ì— ì¤‘ë³µ ì˜ˆì•½ ë°œìƒ ê°€ëŠ¥ì„±.
    -   **í•´ê²°**: SQLite íŠ¹ì„±ì„ ê³ ë ¤í•´ **íŠ¸ëœì­ì…˜ ê²©ë¦¬(Transaction Isolation)** ìˆ˜ì¤€ì„ ì¡°ì •í•˜ê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ì´ì¤‘ ê²€ì¦ ìˆ˜í–‰.
2.  **í™˜ê° ë°©ì§€ (Hallucination)**:
    -   **ë¬¸ì œ**: AIê°€ ì—†ëŠ” íšŒì˜ì‹¤ì„ ì˜ˆì•½í•˜ë ¤ê³  í•¨.
    -   **í•´ê²°**: `zod` ìŠ¤í‚¤ë§ˆë¥¼ í†µí•´ **ì…ì¶œë ¥ ë°ì´í„° íƒ€ì…**ì„ ê°•ì œí•˜ê³ , DBì— ì¡´ì¬í•˜ëŠ”ì§€ `Validate` ë‹¨ê³„ë¥¼ ì¶”ê°€.

---

## 5. How to Run (ì‹¤í–‰ ë°©ë²•)
```bash
# 1. Install Dependencies
npm install

# 2. Database Migration & Seed
npx ts-node src/seed.ts

# 3. Start Server
npm run start

# 4. Verify AI Logic
npx ts-node -r tsconfig-paths/register scripts/verify_flow.ts
```
